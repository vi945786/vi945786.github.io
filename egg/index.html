<html>
<head>

<style>
img {
	height: 40em;
}

* {
	touch-action: manipulation;
}

</style>

<script>

var egg = null
var num = null 
var num2 = null
var startNum = 100000

var save = getSave()

function getSave() {
	var save = JSON.parse(window.localStorage.getItem("egg"));
	
	if(save == null) {
		save = {}
		save["num"] = 0
	} else {
		if(isNaN(save["num"])) save["num"] = 0
	}
	
	return save
}

function setSave(save) {
	window.localStorage.setItem("egg", JSON.stringify(save))
}

function down() {
	egg.style.transform = "scale(0.8)";
}

function up() {
	egg.style.transform = "scale(1)";
	changeNum()
}

function changeNum() {
	save["num"]++

	setSave(save)
	num2.innerHTML = save["num"]
	if((startNum - save["num"]) <= 0) save["num"] = 0
	if(save["num"] != 0) num.innerHTML = startNum - save["num"]
	
	win()
}

function win() {
	if((startNum - save["num"] <= 0)) {
		num.innerHTML = "YOU WIN!!!"
		num.style.color = "#d3af37"
		num2.style.visibility = "visible"
	}
}

addEventListener("DOMContentLoaded", (event) => {

egg = document.getElementById("egg")
num = document.getElementById("num")
num2 = document.getElementById("num2")

num.innerHTML = startNum - save["num"]
num2.innerHTML = save["num"]
win()

egg.oncontextmenu = function(event) {
    event.preventDefault();
    event.stopPropagation();
    event.stopImmediatePropagation();
    return false;
};


egg.addEventListener("touchstart", function () {
	down()
});

egg.addEventListener("touchend", function () {
	up()
});

});



</script>

</head>
<body style="display: flex; align-items: center; justify-content: center;">

<table>
	<tr><th>
		<div style="height:25vh;">
			<h id="num" style="font-size: 150;"></h>
		</div>
	</th></tr>
	<tr><th>
		<div>
			<h id="num2" style="visibility: hidden;font-size: 75;"></h>
		</div>
	</th></tr>
	<tr><th>
		<div>
			<img id="egg" src="https://clipart-library.com/data_images/360077.png"/>
		</div>
	</th></tr>
<table>

</body>
</html>
